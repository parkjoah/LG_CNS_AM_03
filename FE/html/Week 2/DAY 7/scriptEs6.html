<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button type="button" onclick="listHandler()">목록보기</button>
    <div>
      <ol id="list"></ol>
    </div>
    <script>
      // Enhanced object Literal (향상된 객체 리터럴)
      // 축약문법 - 속성과 값이 같으면 1개만 기입
      // 축약문법 - 속성에 함수를 정의할 때 function 예약어 생략 가능
      let language = "javascript";
      let userInfo = {
        // language: language,
        language, // -> 같을 경우 축약문법에 의해서 이렇게 가능
        // coding: function () {
        //   // 익명 함수 가능
        //   console.log("hello world");
        // },
        // 이렇게 가능
        coding() {
          console.log("hello world");
        },
      };

      console.log("userLanguage", userInfo.language);
      userInfo.coding();

      // Spread Operator (스프레드 오퍼레이터)
      // 특정 객체 또는 배열의 값을 다른객체, 다른 배열로 복제하거나 옮길 때 사용
      // 연산자 ...
      let obj = {
        name: "jslim",
        camp: "am inspire camp 3th",
      };

      let newObj = { ...obj };

      // Destructuring(구조분해)
      let { name, camp } = obj;

      // Promise (Resolve, Reject)
      // 비동기 작업의 처리를 나타내는 객체
      // 통신을 위한 함수 또는 라이브러리 : fetch(), axios

      // const promise = new Promise((res, rej) => {
      //   //excutor
      //   setTimeout(() => {
      //     //res("success");
      //     // res({
      //     //   name: "jslim",
      //     //   camp: "am inspire camp 3th",
      //     // });
      //     rej("에러발생");
      //   }, 1000);
      // });

      // console.log(promise);
      // //promise.then(); //로직처리
      // promise.then((res) => {
      //   console.log(res);
      // });
      // promise.catch((err) => {
      //   console.log("response >>>", err);
      // });

      ////////////////

      function getData() {
        return new Promise((res, rej) => {
          //excutor
          setTimeout(() => {
            res({
              name: "jslim",
              camp: "am inspire camp 3th",
            });
            //rej("에러발생");
          }, 1000);
        });
      }

      // const listHandler = async () => {
      //   const data = await getData();
      //   console.log(data);
      // };

      // const listHandler = async () => {
      //   try {
      //     const data = await getData();
      //     console.log(data);
      //   } catch (err) {
      //     console.log(err);
      //   }
      // };

      // const listHandler = async () => {
      //   fetch("./data/todos.json")
      //     // .then((res) => res.json)
      //     // .then((res) => console.log(res))
      //     .then((res) => {
      //       const data = res.json();
      //       console.log(data);
      //     })
      //     .catch((error) => {
      //       console.log(error);
      //     });
      // };

      // const listHandler = async () => {
      //   try {
      //     const response = await fetch("./data/todos.json");
      //     const data = await response.json();
      //     console.log(data);
      //   } catch (error) {
      //     console.log(error);
      //   }
      // };

      const listHandler = async () => {
        try {
          const response = await fetch("./data/todos.json");
          const data = await response.json();
          console.log(data);

          // 구현 문제 //
          // <li> 만들고 <ol id= "list"></ol>를 동적 바인딩한다면?
          // 나 //
          const listBox = document.querySelector("#list");
          let list = document.createElement("li");
          for (listData of data) {
            list.innerHTML = `${listData.name} ${listData.camp}`;
            listBox.appendChild(list);
            list = document.createElement("li");
          }

          // 강사님 //
          let txt = ``;
          data.forEach((d) => {
            txt += `<li>${d.name}-${d.camp}</li>`;
          });
          document.querySelector("#list").innerHTML = txt;
        } catch (error) {
          console.log(error);
        }
      };
    </script>
  </body>
</html>
